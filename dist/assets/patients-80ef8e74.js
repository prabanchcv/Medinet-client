import{r as s,j as e,m as S,a as j}from"./index-6c023e7e.js";import{V as w}from"./view-79a71faf.js";function b(){const[o,c]=s.useState(""),[i,m]=s.useState([]),[d,u]=s.useState(""),[h,r]=s.useState([]),l=localStorage.getItem("adminToken"),p=t=>{const a=i.filter(n=>n._id==t._id);c(a[0])},x=t=>{const a=t.target.value.toLowerCase();u(a);const n=i.filter(g=>g.userName.toLowerCase().startsWith(a));console.log(n),r(n)},f=[{name:"ID",selector:t=>t._id},{name:"name",selector:t=>t.userName},{name:"contact",selector:t=>t.contact},{name:"age",selector:t=>t.age},{name:"Action",cell:t=>e.jsx("button",{className:"btn btn-success",onClick:()=>p(t),children:"View"})}];return s.useEffect(()=>{(async()=>{await j.get("http://localhost:3000/admin/patients",{headers:{Authorization:`Bearer ${l}`}}).then(a=>{m(a.data),r(a.data)})})()},[l]),e.jsx(e.Fragment,{children:o?e.jsx(w,{user:o,setSelected:c,value:"patient"}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{children:"Patients"}),e.jsx("input",{type:"text",value:d,onChange:x,placeholder:"Search...",className:"form-control w-25 mb-2"}),e.jsx(S,{columns:f,title:"Patients",data:h})]})})}export{b as default};
